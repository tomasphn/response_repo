<div>
  <h1>Prompt:<%= @prompt.text %></h1>
</div>
<% @prompt.responses.each do |response| %>
  <div class="my-3">
    <div>
      <h3>Response: <%= response.text %></h3>
    </div>
    <div class="my-3">
      <% if response.user == current_user %>
        <div class="flex">
        <%= link_to "Edit", edit_prompt_response_path(@prompt, response), class: "btn btn-gray mr-2" %>
        <%= link_to "Destroy", prompt_response_path(@prompt, response), data: {
          turbo_method: :delete,
          turbo_confirm: "Are you sure?"
        }, class: "btn btn-gray" %>
      </div>
      <% end %>
    </div>
    <div class="my-3">
      <ul class="flex gap-3">
        <% response.reaction_counts.each do |emotion, count| %>
          <li>
            <p><%= emotion %>: <%= count %></p>  
          </li>
        <% end %>
      </ul>
    </div>
  </div>
<% end %>
<% if user_signed_in? %>
  <%= render 'responses/form' %>
<% end %>